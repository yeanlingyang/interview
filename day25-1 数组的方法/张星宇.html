<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>

<body>
  <script>
    // 访问地址：file:///C:/Users/Administrator/Desktop/%E5%BC%A0%E6%98%9F%E5%AE%87.html?name=xx&age=18&desc=随便

    // 将地址中将参数进行解析
    // xxx.html?name=xx&age=18&desc=随便
    // 解析成一个对象，格式: {name:'xx',age:'18',desc:'随便'}

    // 从地址栏中，获取参数
    var str = location.search;    //  "?name=xx&age=18&desc=%E9%9A%8F%E4%BE%BF"

    // 有中文，需要解码
    str = decodeURI(str);         //  "?name=xx&age=18&desc=随便"

    // 去掉问号
    // slice(start,end);从start开始，截取到end结束，包含start，不包含end
    str = str.slice(1);         //  "name=xx&age=18&desc=随便"

    // str.split('分割符'); 将字符串，分割成数组
    var arr = str.split('&');   //  ["name=xx", "age=18", "desc=随便"]
    console.log(arr);

    var obj = {};

    // 遍历数组，通过等号切割，得到键和值
    for (var i = 0; i < arr.length; i++) {
      // arr[i] 每一项 "name=xx"   ["name","name"]
      var key = arr[i].split('=')[0];  // name
      var value = arr[i].split('=')[1];  //  xx

      // 将键值放在obj中，[]可以解析变量
      obj[key] = value;
    }
    console.log(obj);


    // map()
    // 执行时 会先创建一个空数组，空数组中存放的是 每个元素被function 处理的结果， 最后会返回这个新数组；

    // forEach()
    // 遍历数组，把数组的每个元素交给function进行处理

    // every()
    // 判断是否所有的元素都满足条件 

    // some()
    // 判断数组中是否有一个或者多个元素满足条件

    // reduce()
    // 所有元素调用返回函数，返回值为最后结果,传入的值必须是函数类型

    // push()
    // 数组的后面添加新加元素，此方法改变了数组的长度

    // pop()
    // 在数组后面删除最后一个元素，并返回数组，此方法改变了数组的长度

    // shift()
    // 在数组后面删除第一个元素，并返回数组，此方法改变了数组的长度

    // unshift()
    // 将一个或多个元素添加到数组的开头，并返回新数组的长度
    // isArray()
    // 判断一个对象是不是数组，返回的是布尔值

    // toString()
    // 将数组转化为字符串

    // splice(开始位置， 删除的个数，元素)
    

    // ES10 新特性
    // Array的flat()方法
    // flat() 方法会按照一个可指定的深度递归遍历数组，并将所有元素与遍历到的子数组中的元素合并为一个新数组返回。

    // flat()方法最基本的作用就是数组降维

    var arr1 = [1, 2, [3, 4]];
    arr1.flat();
    // [1, 2, 3, 4]

    var arr2 = [1, 2, [3, 4, [5, 6]]];
    arr2.flat();
    // [1, 2, 3, 4, [5, 6]]

    var arr3 = [1, 2, [3, 4, [5, 6]]];
    arr3.flat(2);
    // [1, 2, 3, 4, 5, 6]

    var arr4 = [1,2,[3,4,[5,6,[7,8]]]];
    arr4.flat()

    //使用 Infinity 作为深度，展开任意深度的嵌套数组
    arr3.flat(Infinity);
    // [1, 2, 3, 4, 5, 6]

    // 其次，还可以利用flat()方法的特性来去除数组的空项
    var arr4 = [1, 2, , 4, 5];
    arr4.flat();
    // [1, 2, 4, 5]

  </script>
</body>

</html>