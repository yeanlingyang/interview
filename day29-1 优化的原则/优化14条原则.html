<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>
<body>
      

   <!-- 了解 -->

   面试宝典

  （1） 减少 http 请求次数：CSS Sprites, JS、CSS 源码压缩、图片大小控制合适；网页Gzip，CDN 托管，data 缓存 ，图片服务器。

  （2）前端模板 JS+数据，减少由于 HTML 标签导致的带宽浪费，前端用变量保存 AJAX请求结果，每次操作本地变量，不用请求，减少请求次数
  
  （3） 用 innerHTML 代替 DOM 操作，减少 DOM 操作次数，优化 javascript 性能。
  
  （4） 当需要设置的样式很多时设置 className 而不是直接操作 style。
  
  （5） 少用全局变量、缓存 DOM 节点查找的结果。减少 IO 读取操作。
  
  （6） 避免使用 CSS Expression（css 表达式)又称 Dynamic properties(动态属性)。
  
  （7） 图片预加载，将样式表放在顶部，将脚本放在底部 加上时间戳。
  
  （8） 避免在页面的主体布局中使用 table，table 要等其中的内容完全下载之后才会显示出来，显示比 div+css 布局慢。 



   雅虎14条优化原则
   
   1.减少HTTP请求数

   　　常用的方法，合并css，js（将一个页面中的css和js文件分别合并）以及 Image maps和css sprites等。
   
   2.使用CDN（内容分发网络）
   
   　　通过在现有的Internet中增加一层新的网络架构，将网站的内容发布到最接近用户的 cache服务器内，通过DNS负载均衡的技术，判断用户来源就近访问cache服务器取得所需的内容。
   
   3.添加Expire/Cache-Control 头
   
   　　Expire其实就是通过header报文来指定特定类型的文件在浏览器中的缓存时间。
   
   　　大多数的图片，flash在发布后都是不需要经常修改的，做了缓存以后这样浏览器以后就不需要再从服务器下载这些文件而是直接从缓存中读取，这样再次访问页面的速度会大大加快。
   
   4.启用Gzip压缩
   
   　　Gzip的思想就是把文件先在服务器端进行压缩，然后再传输，这样可以显著减少文件传输的大小。
   
   传输完毕后浏览器会重新对压缩过的内容进行解压缩，并执行。
   
   5.将css放在页面最上面 
   
   　　因为 IE，Firefox等浏览器在css全部传输完全之前不会去渲染任何的东西。
   
   　　IE把样式表放在页面的底部的问题在于它禁止了网页内容的顺序显示。浏览器阻止显示以免重画页面元素，那用户只能看到空白页了。
   
   　　Firefox不会阻止显示，但这意味着当样式表下载后，有些页面元素可能需要重画，这导致闪烁问题。
   
   　　所以我们应该尽快让css加载完毕。
   
   6.将script放在页面最下面
       
   　　因为script脚本的执行会阻塞页面的下载并且会阻塞并行下载数量，放在页面最下面可以有效减少页面可视元素的加载时间。
     
   7.避免在CSS中使用Expressions 

       最早的CSS是不支持所谓的表达式的　
       如果你根本不了解CSS表达式，那么恭喜你，你不需要再了解它了

   8.把javascript和css都放到外部文件中 
   
   　　不仅从性能优化上会这么做，用代码易于维护的角度看也应该这么做。
   
   9.减少DNS查询
   
   　　在域名和ip地址之间的转换工作称为域名解析，也称DNS查询。
   
   　　一次DNS的解析过程会消耗20-120毫秒的时间,在DNS查询结束之前，浏览器不会下载该域名下的任何东西。
   
   所以减少DNS查询的时间可以加快页面的加载速度。
   
   10.压缩 JavaScript 和 CSS
   
   　　减少页面字节数，容量小页面加载速度自然也就快，而且压缩除了减少体积以外还可以起到一定的保护作用。
   
   11.避免重定向
       重定向  ：重定向(Redirect)就是通过各种方法将各种网络请求重新定个方向转到其它位置（如：网页重定向、域名的重定向、路由选择的变化也是对数据报文经由路径的一种重定向）。
   　　每增加一次重定向就会增加一次web请求，所以应该尽量减少。
   
   12.移除重复的脚本
   
   13.配置实体标签ETags 
   
   　　 ETags 是用于确定浏览器缓存中元素是否与 Web server 中的元素相匹配的机制， 它是比 last-modified date 更灵活的元素验证机制。
       ETags 属于HTTP协议的一部分 它的作用是用一个特殊的字符串来标识某个资源的“版本”，
       客户端（浏览器）来请求的时候，可以比较，如果ETag一致，则表示该资源并没有修改过，客户端（浏览器）可以使用自己缓存的版本。
   14.AJAX 缓存
   
   　　即使AJAX是动态产生的而且只对一个用户起作用，他们依然可以被缓存。
   本地储存有三种 sessionstorage  一次性缓存 打开窗口生效 关闭浏览器就会自动释放  
   localstorage 默认会以文件的形式永久储存  
   cookie 用来跟踪用户信息 默认一次性会话 维持到浏览器关闭                                                       


<!-- 知道 -->
   <!-- 怎么优化自己的代码
  1.  代码复用
  2.  避免使用过多的全局变量
  3.  拆分函数避免函数过于臃肿  => 单一职责原则
  4.  将面向过程的编程方式改为使用面向对象编程
      什么是面向过程 打个比方 就像老师之前讲的做饭    你想吃西红柿炒鸡蛋 得先会做这道菜 而且 需要买西红柿 鸡蛋 回来后洗  切 炒  最后才能吃到
      面向对象编程  就是不管会不会做饭  想吃西红柿炒鸡蛋的时候  直接下馆子 跟厨师讲 老板 来份西红柿炒鸡蛋 然后不用动手就可以吃西红柿炒鸡蛋了
      总结一句话     就是 一个注重过程  一个注重结果
  5.  适当的注释 
  6.  内存管理  尤其是闭包中的变量释放
      闭包 : 一个函数的内部嵌套另一个函数  内部函数引用外部函数的局部变量  就形成了闭包 -->
      <!-- 统计打印的次数  闭包的例子 -->
      <!-- function outer() {
        var count = 0;
        function inner() {
          count++;
          console.log(count);
        }
        return inner;
      }
      var result = outer(); // 闭包完成了 -->
      <!-- 闭包的作用  就是变量私有化 缓存数据
      闭包的内存问题: 闭包会占用内存  而且闭包的内存空间不会主动释放
      这又造成了  如果一块内存空间 得不到释放  又会变成内存泄漏
      释放内存的两种方法 
      1. 引用计数  把一块空间的引用次数的值 变成0
      2. 标记清除  目前最常用的垃圾回收的方式，也是当前浏览器所采用的垃圾收集策略
        标记一个声明的变量 如果可以访问到这个变量就不释放  访问不到就释放 -->
      

</body>
</html>